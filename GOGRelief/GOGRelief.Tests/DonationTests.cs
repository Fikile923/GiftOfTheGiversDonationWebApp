using Microsoft.VisualStudio.TestTools.UnitTesting; using Microsoft.EntityFrameworkCore; using GOGRelief.Data; using GOGRelief.Data.Models; using System.Threading.Tasks; namespace GOGRelief.Tests { [TestClass] public class DonationTests { [TestMethod] public async Task AddDonation_InMemoryDb_Works() { var options = new DbContextOptionsBuilder<ApplicationDbContext>().UseInMemoryDatabase("TestDb").Options; using var context = new ApplicationDbContext(options); context.Donations.Add(new Donation { DonorName = "UnitTest", ResourceType = "Blankets", Quantity = 2 }); await context.SaveChangesAsync(); Assert.AreEqual(1, await context.Donations.CountAsync()); } } }